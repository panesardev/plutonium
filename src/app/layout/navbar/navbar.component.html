<!-- desktop -->
<nav class="hidden lg:block max-app-width mx-auto bg-white fixed top-0 left-0 right-0 z-10">
  <div class="flex justify-between items-center h-full gap-6 px-8 py-6">
    <div class="flex items-center gap-10">
      <a routerLink="/" class="font-bold bg-gradient-to-br from-primary/90 to-teal-500 text-transparent bg-clip-text text-3xl">{{ BRAND }}</a>
      <div class="bg-secondary hover:bg-secondary-hover text-primary text-sm flex items-center gap-3 rounded-full cursor-pointer lg:w-80 xl:w-96 px-5 py-3" (click)="openSearchModal()">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search-icon lucide-search"><path d="m21 21-4.34-4.34"/><circle cx="11" cy="11" r="8"/></svg>
        <span>Search</span>
      </div>
    </div>
    <div class="flex justify-end items-center gap-8">
      <div class="flex gap-4">
        <a class="text-primary rounded-full px-4 py-1 hover:underline" routerLink="/articles" routerLinkActive="underline">Articles</a>
        <a class="text-primary rounded-full px-4 py-1 hover:underline" routerLink="/hashtags" routerLinkActive="underline">Hashtags</a>
      </div>
      @defer {
        <app-login-button />
      }
      @placeholder {
        <button class="btn-primary" (click)="openLoginModal()">Login</button>
      }
    </div>
  </div>
</nav>

<!-- mobile -->
<nav class="block lg:hidden max-app-width mx-auto bg-white fixed top-0 left-0 right-0 z-10">
  <div class="flex justify-between items-center gap-4 p-6">
    <img class="size-11" src="/icons/plutonium.png" alt="icon" routerLink="/">
    <div class="bg-secondary hover:bg-secondary-hover text-primary text-sm flex items-center gap-3 rounded-full cursor-pointer w-full px-4 py-3" (click)="openSearchModal()">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search-icon lucide-search"><path d="m21 21-4.34-4.34"/><circle cx="11" cy="11" r="8"/></svg>
      <span>Search</span>
    </div>
    <button class="btn-secondary p-[14px]" (click)="panel.set(true)" aria-label="menu">
      <svg class="size-4" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><rect y="11" width="24" height="2" rx="1"/><rect y="4" width="24" height="2" rx="1"/><rect y="18" width="24" height="2" rx="1"/></svg>
    </button>
  </div>
</nav>

<!-- mobile drawer -->
<div class="block lg:hidden">
  <div class="{{ panel() ? 'panel-overlay-open' : 'panel-overlay-close' }} bg-slate-300/50 backdrop-blur-md fixed inset-0 z-10" (click)="panel.set(false)"></div>

  <div class="{{ panel() ? 'panel-open' : 'panel-close' }} bg-white secondary-shadow fixed top-0 bottom-0 right-0 z-20 w-72 p-6">
    <div class="flex items-center justify-between gap-6 mb-8">
      <div>
        <a class="font-bold bg-gradient-to-br from-primary/90 to-teal-500 text-transparent bg-clip-text text-3xl" routerLink="/" (click)="panel.set(false)">{{ BRAND }}</a>
      </div>
      <button class="btn-secondary px-3" (click)="panel.set(false)" aria-label="close">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
      </button>
    </div>
  
    <div class="flex flex-col gap-2 mb-8">
      <a class="flex items-center gap-3 text-primary rounded-full px-5 py-3" routerLink="/articles" routerLinkActive="bg-secondary" (click)="panel.set(false)">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"><path d="M15 18h-5"/><path d="M18 14h-8"/><path d="M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2"/><rect width="8" height="4" x="10" y="6" rx="1"/></svg>
        <span>Articles</span>
      </a>
      <a class="flex items-center gap-3 text-primary rounded-full px-5 py-3" routerLink="/hashtags" routerLinkActive="bg-secondary" (click)="panel.set(false)">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"><line x1="4" x2="20" y1="9" y2="9"/><line x1="4" x2="20" y1="15" y2="15"/><line x1="10" x2="8" y1="3" y2="21"/><line x1="16" x2="14" y1="3" y2="21"/></svg>
        <span>Hashtags</span>
      </a>
      <a class="flex items-center gap-3 text-primary rounded-full px-5 py-3" routerLink="/about" routerLinkActive="bg-secondary" (click)="panel.set(false)">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>
        <span>About</span>
      </a>
    </div>
  
    @defer {
      <app-login-button (click)="panel.set(false)"/>
    }
    @placeholder {
      <button class="btn-primary" (click)="openLoginModal()" (click)="panel.set(false)">Login</button>
    }
  </div>
</div>
